# 参考
https://www.iphpt.com/detail/137
# 内存逃逸
```
内存逃逸是指编译器决定变量分配到堆还是栈上
go build -gcflags '-m' {./*.go} 可以看到内存逃逸情况
分为几种情况
1 指针逃逸,返回局部变量的指针
2 分配对象的内存太大,逃逸
3 动态类型,编译器不确定类型大小,逃逸
4 闭包引用的对象逃逸

函数指针传递比传值效率高么?
我们知道传递指针可以减少底层值的拷贝，可以提高效率，但是如果拷贝的数据量小，由于指针传递会产生逃逸，可能会使用堆，也可能会增加GC的负担，所以传递指针不一定是高效的。
```
# golang方法集